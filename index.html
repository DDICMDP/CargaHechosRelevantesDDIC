<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Hechos Relevantes</title>
  <link rel="stylesheet" href="styles.css">
  <script defer src="https://cdn.jsdelivr.net/npm/docx@8.5.0/build/index.umd.min.js"></script>
  <script defer src="app.js"></script>
</head>
<body>
  <header>
    <h1>Hechos Relevantes</h1>
    <img src="assets/LogoDDIC.png" alt="Logo DDIC" class="logo">
  </header>

  <main>
    <section class="card">
      <h2>1) Carga de datos</h2>

      <!-- Tabs -->
      <div class="tabs">
        <button class="tab-btn active" data-tab="tab-generales">Datos generales</button>
        <button class="tab-btn" data-tab="tab-civiles">Civiles</button>
        <button class="tab-btn" data-tab="tab-fuerzas">Personal Fuerzas</button>
        <button class="tab-btn" data-tab="tab-objetos">Objetos</button>
        <button class="tab-btn" data-tab="tab-cat">Catálogos</button>
      </div>

      <div class="tab-content active" id="tab-generales">
        <label>Fecha <input type="date" id="g_fecha_dia"></label>
        <label>Tipo 
          <select id="g_tipoExp">
            <option value="PU">PU</option>
            <option value="IPP">IPP</option>
            <option value="Otro">Otro</option>
          </select>
        </label>
        <label>Número <input type="text" id="g_numExp"></label>
        <label>Partido
          <select id="g_partido"></select>
        </label>
        <label>Localidad
          <select id="g_localidad"></select>
        </label>
        <label>Dependencia
          <select id="g_dep"></select>
        </label>
        <div id="g_dep_manual_wrap" style="display:none">
          <label>Dependencia manual <input type="text" id="g_dep_manual"></label>
        </div>
        <label>Carátula <input type="text" id="g_car"></label>
        <label>Subtítulo <input type="text" id="g_sub"></label>
        <label>Estado 
          <select id="g_ok">
            <option value="no">No esclarecido</option>
            <option value="si">Esclarecido</option>
          </select>
        </label>
        <label>UFI <input type="text" id="g_ufi"></label>
        <label>Coordenadas <input type="text" id="g_coord"></label>
        <label><input type="checkbox" id="g_relevante"> Relevante</label>
        <label><input type="checkbox" id="g_supervisado"> Supervisado</label>
      </div>

      <div class="tab-content" id="tab-civiles">
        <div class="form-grid">
          <input type="text" id="c_nombre" placeholder="Nombre">
          <input type="text" id="c_apellido" placeholder="Apellido">
          <input type="number" id="c_edad" placeholder="Edad">
          <select id="c_genero">
            <option value="">-</option>
            <option value="M">M</option>
            <option value="F">F</option>
          </select>
          <input type="text" id="c_dni" placeholder="DNI">
          <input type="text" id="c_pais" placeholder="País de origen">
          <input type="text" id="c_loc" placeholder="Localidad domicilio">
          <input type="text" id="c_calle" placeholder="Calle domicilio">
          <select id="c_vinculo">
            <option>Victima</option>
            <option>Imputado</option>
            <option>Sindicado</option>
            <option>Testigo</option>
          </select>
          <select id="c_obito">
            <option value="false">No</option>
            <option value="true">Sí</option>
          </select>
        </div>
        <button id="addCivil" class="btn">Agregar involucrado</button>
        <div id="civilesList"></div>
      </div>

      <div class="tab-content" id="tab-fuerzas">
        <div class="form-grid">
          <input type="text" id="f_nombre" placeholder="Nombre">
          <input type="text" id="f_apellido" placeholder="Apellido">
          <input type="number" id="f_edad" placeholder="Edad">
          <input type="text" id="f_fuerza" placeholder="Fuerza">
          <input type="text" id="f_jerarquia" placeholder="Jerarquía">
          <input type="text" id="f_legajo" placeholder="Legajo">
          <input type="text" id="f_destino" placeholder="Destino">
          <input type="text" id="f_loc" placeholder="Localidad domicilio">
          <input type="text" id="f_calle" placeholder="Calle domicilio">
          <select id="f_vinculo">
            <option>Imputado</option>
            <option>Testigo</option>
          </select>
          <select id="f_obito">
            <option value="false">No</option>
            <option value="true">Sí</option>
          </select>
        </div>
        <button id="addFuerza" class="btn">Agregar personal</button>
        <div id="fuerzasList"></div>
      </div>

      <div class="tab-content" id="tab-objetos">
        <input type="text" id="o_desc" placeholder="Descripción">
        <select id="o_vinc">
          <option>Secuestro</option>
          <option>Sustraccion</option>
          <option>Hallazgo</option>
          <option>Otro</option>
        </select>
        <button id="addObjeto" class="btn">Agregar objeto</button>
        <div id="objetosList"></div>
      </div>

      <div class="tab-content" id="tab-cat">
        <label>Partido
          <select id="cat_partidoSel"></select>
        </label>
        <label>Localidades<br><textarea id="cat_localidades"></textarea></label>
        <label>Dependencias<br><textarea id="cat_dependencias"></textarea></label>
        <button id="cat_guardar" class="btn">Guardar catálogo</button>
        <button id="cat_reset" class="btn ghost">Restaurar ejemplo</button>
      </div>
    </section>

    <section class="card">
      <h2>2) Resumen / Cuerpo</h2>
      <textarea id="cuerpo"></textarea>
      <div id="tagHelper"></div>
    </section>

    <section class="card">
      <h2>3) Acciones</h2>
      <button id="generar" class="btn">Previsualizar</button>
      <button id="copiarWA" class="btn">Copiar WhatsApp</button>
      <button id="descargarWord" class="btn">Word</button>
      <button id="downloadWordMulti" class="btn">Word seleccionados</button>
      <button id="exportCSV" class="btn">CSV seleccionados</button>
      <button id="saveCase" class="btn">Guardar</button>
      <button id="updateCase" class="btn">Actualizar</button>
      <button id="deleteCase" class="btn danger">Eliminar</button>
      <button id="clearAll" class="btn ghost">Borrar todo</button>
      <input type="file" id="restoreFile" hidden>
      <input type="file" id="mergeFile" hidden>
      <button id="backupJSON" class="btn">Backup JSON</button>
      <button id="restoreJSON" class="btn">Restaurar JSON</button>
      <button id="mergeJSON" class="btn">Fusionar JSON</button>
    </section>

    <section class="card">
      <h2>0) Hechos guardados</h2>
      <input type="text" id="caseSearch" placeholder="Buscar...">
      <div id="casesList"></div>
    </section>

    <section class="card">
      <h2>Vista previa</h2>
      <div id="tituloCompuesto"></div>
      <div id="subCompuesto"></div>
      <div id="previewHtml"></div>
    </section>
  </main>

  <footer>
    <small>Sistema interno DDIC</small>
  </footer>
</body>
</html>

